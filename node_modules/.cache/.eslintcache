[{"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\index.js":"1","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\App.js":"2","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\reportWebVitals.js":"3","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Catalog.js":"4","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Haku.js":"5","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Header.js":"6","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Hakusivu.js":"7","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\routes\\Routes.js":"8","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\controllers\\Controller.js":"9","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\db\\SQL.js":"10"},{"size":1419,"mtime":1615288983623,"results":"11","hashOfConfig":"12"},{"size":552,"mtime":1614752940963,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1613650108422,"results":"14","hashOfConfig":"12"},{"size":964,"mtime":1614419968708,"results":"15","hashOfConfig":"12"},{"size":311,"mtime":1614427738728,"results":"16","hashOfConfig":"12"},{"size":1303,"mtime":1614753100518,"results":"17","hashOfConfig":"12"},{"size":233,"mtime":1614753082533,"results":"18","hashOfConfig":"12"},{"size":363,"mtime":1615287911612,"results":"19","hashOfConfig":"12"},{"size":1554,"mtime":1615290367331,"results":"20","hashOfConfig":"12"},{"size":2424,"mtime":1615290467448,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"qghe1q",{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"27"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":2,"source":"42","usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\index.js",[],"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\App.js",["50"],"import './App.css';\n\nimport Header from './components/Header';\nimport Hakusivu from './components/Hakusivu';\n//import Haku from './components/Haku';<Route exact path=\"/haku\"><Haku /></Route>\n\nimport { Link, Switch, Route, BrowserRouter as Router } from 'react-router-dom';\n\n// npm install -S react-router-dom\n\nfunction App() {\n  return (\n    <div className=\"App\">\n         <Router>\n          <Header /> \n        <Switch>\n          <Route exact path=\"/hakusivu\"><Hakusivu /></Route>\n        </Switch>\n      </Router>\n\t</div>\n);\n}\n\n\n\nexport default App;\n",["51","52"],"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\reportWebVitals.js",[],"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Catalog.js",[],"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Haku.js",["53","54"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./Haku.css\";\r\n\r\nexport default function Haku() {\r\n  \r\n\r\n  return (\r\n        <nav className=\"Hakuvalikko\">\r\n            <a href=\"/\">Hakuehdot t√§nne</a>\r\n            <a href=\"/\">Valikko</a>\r\n            <a href=\"/\">Valikko</a>\r\n        </nav>\r\n  );\r\n}","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Header.js",["55","56","57","58"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./Header.css\";\r\nimport { Link, Switch, Route, BrowserRouter as Router } from 'react-router-dom';\r\n\r\nexport default function Header() {\r\n  const [isNavVisible, setNavVisibility] = useState(false);\r\n  const [isSmallScreen, setIsSmallScreen] = useState(false);\r\n  \r\n\r\n  useEffect(() => {\r\n    const mediaQuery = window.matchMedia(\"(max-width: 600px)\");\r\n    mediaQuery.addEventListener('change', handleMediaQueryChange);\r\n    handleMediaQueryChange(mediaQuery);\r\n\r\n    return () => {\r\n      mediaQuery.removeEventListener(handleMediaQueryChange);\r\n    };\r\n  }, []);\r\n\r\n  const handleMediaQueryChange = mediaQuery => {\r\n    if (mediaQuery.matches) {\r\n      setIsSmallScreen(true);\r\n    } else {\r\n      setIsSmallScreen(false);\r\n    }\r\n  };\r\n\r\n  const toggleNav = () => {\r\n    setNavVisibility(!isNavVisible);\r\n  };\r\n \r\n  return (\r\n    <header className=\"Header\">\r\n      \r\n      {(!isSmallScreen || isNavVisible) && (\r\n        <nav className=\"Nav\">\r\n        <a href=\"/hakusivu\">Haku</a>\r\n        <a href=\"/\">Valikko</a>\r\n        <a href=\"/\">Valikko</a>\r\n        </nav> )}\r\n      <button onClick={toggleNav} className=\"Valikko\">‚ò∞</button>\r\n      <button className=\"Haku\">üîç</button>\r\n    </header>\r\n  );\r\n}\r\n\r\n//Hakunappi, kuinka haku aukeamaan","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\components\\Hakusivu.js",[],"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\routes\\Routes.js",["59","60","61"],"var express = require('express');\r\nvar app = express();\r\nvar router = express.Router();\r\n\r\nlet ctrl = require('../controllers/Controller');\r\n\r\nrouter.route('/Yritys/get'). // Ekan version j√§√§nteit√§\r\n    get(ctrl.fetch);\r\n\r\nrouter.route('/').\r\n    get(ctrl.fetchKaikki);\r\n\r\n\r\n\r\n// Julkaistaan ao. funktiot t√§m√§n js-filun ulkopuolelle\r\nmodule.exports = router;",["62","63"],"C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\controllers\\Controller.js",["64","65"],"\r\nconst { getyritykset } = require('../db/SQL');\r\nconst sql = require('../db/SQL');\r\n\r\nmodule.exports = {\r\n\r\n    fetch: async (req, res) => {            //Ekan version j√§√§nteit√§\r\n        console.log(\"fetch started ...\");\r\n\r\n        try {\r\n            let n = req.body;\r\n            console.log(\"body: \" + JSON.stringify(req.body));\r\n            \r\n            let y = await sql.getYritys();\r\n            //let t = await sql.getTilaukset(y.id);\r\n            \r\n            console.log(\"done\")\r\n\r\n            res.json({ status: \"OK\", yritykset : y });\r\n        }\r\n        catch (err) {\r\n            res.json({status : \"NOT OK\", msg : err});\r\n        }\r\n    },\r\n\r\n    /*fetchKaikki: async (req, res) => {\r\n        console.log(\"fetch started ...\");\r\n        console.log(req.query);\r\n        let n = req.query;\r\n        let toimialat = [];\r\n        let yritykset;\r\n        try {        \r\n            toimialat = await sql.getToimialat();\r\n            console.log(\"Toimialat:\", toimialat);\r\n        }\r\n        catch(e)\r\n        {\r\n            console.log(\"ERROR: \", e)\r\n        }\r\n\r\n        try {\r\n            kayttaja = await sql.getYritys(n.nimi, n.ytunnus, n.toimiala_id);\r\n            console.log(\"Yritykset:\", yrituy);\r\n        }\r\n        catch(e)\r\n        {\r\n            console.log(\"ERROR: \", e)\r\n        }\r\n\r\n        let empty = {id:-1, toimiala : \"Choose\" };\r\n        res.render('index', {\r\n            title: \"Yritysten tiedot\",\r\n            toimialat : [empty, ...kayttaja],\r\n            yritys : [...yritykset]\r\n        });       \r\n    },*/\r\n\r\n\r\n}","C:\\Users\\keijukoiso\\Documents\\Koulu\\WEB\\Mobiili\\varasto\\src\\db\\SQL.js",["66"],"var mysql = require('mysql');\r\n\r\nvar connection = mysql.createConnection({\r\n    host: 'localhost',\r\n    user: 'root',      // √ÑL√Ñ k√§yt√§ root:n tunnusta tuotannossa\r\n    password: '',\r\n    database: 'mydb'\r\n});\r\n\r\n\r\nconst getYritykset = (nimi, ytun, toim) => {\r\n    \r\n    return new Promise((resolve, reject) => {\r\n\r\n        //let query = \"SELECT yritys.*, toimiala.selite as toimiala, COUNT(tilaus.id) as tilaukset, ROUND(SUM(tilaus.veroton), 2) as summa_veroton, ROUND(SUM(tilaus.veroton) + SUM(tilaus.veroton)*0.24, 2) as summa_verollinen FROM yritys LEFT JOIN toimiala ON yritys.toimiala_id = toimiala.id LEFT JOIN tilaus ON tilaus.y_id = yritys.id \"\r\n        let query = \"SELECT * FROM kayttaja\"\r\n        let x = \"WHERE \"\r\n        let params = [];\r\n\r\n        /*if (nimi != null || ytun != null || toim != null) {\r\n\r\n            if ( nimi != null  && nimi != \"\") {\r\n                query += x + \"yritys.nimi = ? \";\r\n                x = \"AND \"\r\n                params.push(nimi);\r\n            }\r\n            if ( ytun != null && ytun != \"\") {\r\n                query += x + \"yritys.ytunnus = ? \";\r\n                x = \"AND \"\r\n                params.push(ytun);\r\n            }\r\n            if ( toim != null && toim != \"\" && toim != \"-1\") {\r\n                query += x + \"toimiala.id = ? \";\r\n                params.push(toim);\r\n            }\r\n            \r\n\r\n        }\r\n        query += \"GROUP BY yritys.id \"*/\r\n\r\n        console.log(query);\r\n        connection.query(query, params, function (error, result, fields) {\r\n\r\n            if (error) {\r\n                console.log(\"Virhe\", error);\r\n                reject(error);\r\n            }\r\n            else {\r\n                resolve(result);\r\n            }\r\n        });\r\n    })\r\n}\r\n\r\n\r\n\r\nconst getToimialat = () => {\r\n    return new Promise((resolve, reject) => {\r\n        let query = \"SELECT id, selite from toimiala \";\r\n\r\n        connection.query(query, function (error, result, fields) {\r\n\r\n            if (error) {\r\n                console.log(\"Virhe\", error);\r\n                reject(error);\r\n            }\r\n            else {\r\n                resolve(result);\r\n            }\r\n        });\r\n    })\r\n}\r\n\r\n\r\nmodule.exports = {\r\n\r\n    getYritysByNimi: (nimi, ytun, toim) => {\r\n        return getYritykset(nimi, null, null);\r\n    },\r\n    getYritys: () => {\r\n        return getYritykset();\r\n    },\r\n\r\n    getToimialat: () => {\r\n        return getToimialat();\r\n    }\r\n\r\n}",{"ruleId":"67","severity":1,"message":"68","line":7,"column":10,"nodeType":"69","messageId":"70","endLine":7,"endColumn":14},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"67","severity":1,"message":"75","line":1,"column":17,"nodeType":"69","messageId":"70","endLine":1,"endColumn":25},{"ruleId":"67","severity":1,"message":"76","line":1,"column":27,"nodeType":"69","messageId":"70","endLine":1,"endColumn":36},{"ruleId":"67","severity":1,"message":"68","line":3,"column":10,"nodeType":"69","messageId":"70","endLine":3,"endColumn":14},{"ruleId":"67","severity":1,"message":"77","line":3,"column":16,"nodeType":"69","messageId":"70","endLine":3,"endColumn":22},{"ruleId":"67","severity":1,"message":"78","line":3,"column":24,"nodeType":"69","messageId":"70","endLine":3,"endColumn":29},{"ruleId":"67","severity":1,"message":"79","line":3,"column":48,"nodeType":"69","messageId":"70","endLine":3,"endColumn":54},{"ruleId":"67","severity":1,"message":"80","line":2,"column":5,"nodeType":"69","messageId":"70","endLine":2,"endColumn":8},{"ruleId":"81","severity":1,"message":"82","line":7,"column":28,"nodeType":"83","messageId":"84","endLine":7,"endColumn":29,"fix":"85"},{"ruleId":"81","severity":1,"message":"82","line":10,"column":18,"nodeType":"83","messageId":"84","endLine":10,"endColumn":19,"fix":"86"},{"ruleId":"71","replacedBy":"87"},{"ruleId":"73","replacedBy":"88"},{"ruleId":"67","severity":1,"message":"89","line":2,"column":9,"nodeType":"69","messageId":"70","endLine":2,"endColumn":21},{"ruleId":"67","severity":1,"message":"90","line":11,"column":17,"nodeType":"69","messageId":"70","endLine":11,"endColumn":18},{"ruleId":"67","severity":1,"message":"91","line":17,"column":13,"nodeType":"69","messageId":"70","endLine":17,"endColumn":14},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","no-native-reassign",["92"],"no-negated-in-lhs",["93"],"'useState' is defined but never used.","'useEffect' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'Router' is defined but never used.","'app' is assigned a value but never used.","dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"94","text":"95"},{"range":"96","text":"97"},["92"],["93"],"'getyritykset' is assigned a value but never used.","'n' is assigned a value but never used.","'x' is assigned a value but never used.","no-global-assign","no-unsafe-negation",[170,203]," // Ekan version j√§√§nteit√§\r\n    .",[240,247],"\r\n    ."]